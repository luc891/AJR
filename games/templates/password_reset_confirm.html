{% extends 'layout.html' %}
{% load static %}
{% block body %}

<!-- Page Header-->
<header class="masthead" style="background-color: #0085A1">
    <div class="container position-relative px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-md-10 col-lg-8 col-xl-7">
                <div class="site-heading">
                    <h1>Connexion</h1>
                    <span class="subheading">Obtenez un nouveau mot de passe</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Password change form-->
<div style="max-width: 800px; margin: auto; text-align: center;">
	{% if validlink %}
		<h2>Réinitialisation de mot de passe </h2>
		<p>Veuillez saisir votre nouveau mot de passe.</p>
		<form method="post">
			{% csrf_token %}
			{% if form.new_password1.errors %}
				<ul class="alert alert-danger">
				{% for error in form.new_password1.errors %}
				<li>{{ error }}</li>
				{% endfor %}
				</ul>
			{% endif %}
			{% if form.new_password2.errors %}
				<ul class="alert alert-danger">
				{% for error in form.new_password2.errors %}
				<li>{{ error }}</li>
				{% endfor %}
				</ul>
			{% endif %}
			<table>		
				<tr>
					<td>
						<label for="id_new_password1">Mon nouveau mot de passe :</label>
					</td>
					<td>{{ form.new_password1 }}</td>
				</tr>
				<tr>
					<td>				
						<label for="id_new_password2">Confirmer mon nouveau mot de passe :</label>
					</td>
					<td>{{ form.new_password2 }}</td>
				</tr>
			</table>
			<div style="max-width: 200px; margin: auto;">
				<button class="btn btn-primary" style="border-radius: 20%; margin: auto;" type="submit">Changer mon mot de passe</button>
			</div>
		</form>
	{% else %}
		<h2>Echec de réinitialisation du mot de passe</h2>
		<p>Le lien de réinitialisation de mot de passe est invalide. Veuillez réessayer.</p>
	{% endif %}
</div>

{% endblock %}